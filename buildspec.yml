version: 0.2
env:
    variables:
        BUILD_ENV: "prod"
phases:
    install:
        runtime-versions:
            java: corretto17
        # commands:
        #     - echo Installing source NPM dependencies...
        #     - npm install
        #     - npm install -g @angular/cli
    build:
        commands:
            - echo Build started on `date`
            - sam build
    post_build:
         commands:
            - cd .aws-sam/build
            - zip -r app.zip GalleryFunction 
            - aws lambda update-function-code --function-name NDABackend-FractalFunction8D81D62B-vr3ZXsbLsvAg --zip-file fileb://app.zip
            - echo Build completed on `date`
